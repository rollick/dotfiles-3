#!/bin/bash
if [[ "${1}" == '--help' ]]; then
	echo "Usage: $(basename $0) [OPTION] virtual_environment script"
	echo "Wrapper for running a python script inside a virtual environment."
	echo
	echo "Options:"
	echo "    --help     display this help and exit"

	exit
fi

# Determine path to virtualenvs
workon_home="${WORKON_HOME:-${XDG_DATA_HOME:-${HOME}/.local/share}/virtualenvs}"

# Activate virtualenv
source "${workon_home}/${1}/bin/activate" || exit

# Remove virtualenv from argument list
shift

# Now run the application
"${@}"
